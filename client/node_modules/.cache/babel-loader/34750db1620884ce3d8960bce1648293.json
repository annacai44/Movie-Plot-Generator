{"ast":null,"code":"import _slicedToArray from\"/Users/annacai/Desktop/scriptai/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import'semantic-ui-css/semantic.min.css';import{Form,TextArea,Button,Container,Loader}from'semantic-ui-react';import React,{useState,useEffect,useRef}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputText=_useState2[0],setInputText=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputLength=_useState4[0],setInputLength=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),inputTheme=_useState6[0],setInputTheme=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),resultText=_useState8[0],setResultText=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),isSynopsis=_useState10[0],setIsSynopsis=_useState10[1];var _useState11=useState('0.5'),_useState12=_slicedToArray(_useState11,2),sliderValue=_useState12[0],setSliderValue=_useState12[1];var isMounted=useRef(false);var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isLoading=_useState14[0],setIsLoading=_useState14[1];var prompt1=\"Keywords: \".concat(inputText,\"\\nWrite a harmless synopsis for an interesting \").concat(inputLength,\" long \").concat(inputTheme,\" film that includes all of the keywords.\\nSynopsis:\\n\");var prompt2=\"Keywords: \".concat(inputText,\"\\nWrite a short excerpt from an interesting \").concat(inputLength,\" long \").concat(inputTheme,\" film with a plot that incorporates all of the keywords. Present the excerpt in proper script format.\\nExcerpt:\\n\");var getOpenAIResponse=function getOpenAIResponse(){setIsLoading(true);axios.get('http://localhost:8000',{params:{model:\"text-davinci-002\",prompt:\"\".concat(isSynopsis?prompt1:prompt2),max_tokens:256,sliderValue:sliderValue}}).then(function(res){{isSynopsis?setResultText(res.data.replace(/\\n/g,'')):setResultText(res.data);}setIsLoading(false);}).catch(function(err){console.log(err);});};useEffect(function(){if(isMounted.current){console.log(\"this is useEffect:\",isSynopsis);getOpenAIResponse();}else{isMounted.current=true;}},[isSynopsis]);var setMode=function setMode(e){if(e.target.value==='synopsis'){setIsSynopsis(true);if(isSynopsis)getOpenAIResponse();}else{setIsSynopsis(false);if(!isSynopsis)getOpenAIResponse();}};return/*#__PURE__*/_jsxs(Container,{className:\"container\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"header\",children:\"Movie Plot Generator\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"app-body\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"List any number of keywords you want in your film synopsis or script excerpt. Ex: man, woman, dog, McDonald's\"}),/*#__PURE__*/_jsx(Form.Field,{control:TextArea,placeholder:\"Enter keywords for your synopsis...\",onChange:function onChange(e){return setInputText(e.target.value);}}),/*#__PURE__*/_jsx(\"h3\",{children:\"Choose length of film.\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setInputLength(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"10 minutes\"}),/*#__PURE__*/_jsx(\"option\",{children:\"30 minutes\"}),/*#__PURE__*/_jsx(\"option\",{children:\"1 hour\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2 hours\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Choose genre of film.\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setInputTheme(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Drama\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Comedy\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Science fiction\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Adventure\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Choose whether you want your story to be more predictable or more random.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slidecontainer\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"More Predictable\"}),/*#__PURE__*/_jsx(\"input\",{className:\"slider\",onChange:function onChange(e){return setSliderValue(e.currentTarget.value);},type:\"range\",min:\"0\",max:\"1.0\",step:\"0.01\",value:sliderValue}),/*#__PURE__*/_jsx(\"span\",{children:\"More Random\"})]}),/*#__PURE__*/_jsx(Button,{size:\"large\",value:\"synopsis\",onClick:setMode,children:\"Make a synopsis!\"}),/*#__PURE__*/_jsx(Button,{size:\"large\",value:\"excerpt\",onClick:setMode,children:\"Make an excerpt!\"}),/*#__PURE__*/_jsx(\"h2\",{children:isSynopsis?'Synopsis:':'Excerpt:'}),isLoading?/*#__PURE__*/_jsx(Loader,{active:true,inline:\"centered\",children:\"Loading\"}):/*#__PURE__*/_jsx(\"textarea\",{readOnly:\"readonly\",value:resultText,rows:\"25\"})]})}),/*#__PURE__*/_jsx(\"footer\",{children:\"Responses are generated by OpenAI's GPT-3!\"})]});}export default App;","map":{"version":3,"names":["Form","TextArea","Button","Container","Loader","React","useState","useEffect","useRef","axios","App","inputText","setInputText","inputLength","setInputLength","inputTheme","setInputTheme","resultText","setResultText","isSynopsis","setIsSynopsis","sliderValue","setSliderValue","isMounted","isLoading","setIsLoading","prompt1","prompt2","getOpenAIResponse","get","params","model","prompt","max_tokens","then","res","data","replace","catch","err","console","log","current","setMode","e","target","value","currentTarget"],"sources":["/Users/annacai/Desktop/scriptai/src/App.js"],"sourcesContent":["import './App.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport { Form, TextArea, Button, Container, Loader} from 'semantic-ui-react';\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [inputText, setInputText] = useState('');\n  const [inputLength, setInputLength] = useState('');\n  const [inputTheme, setInputTheme] = useState('');\n  const [resultText, setResultText] = useState('');\n  const [isSynopsis, setIsSynopsis] = useState(true);\n  const [sliderValue, setSliderValue] = useState('0.5');\n  const isMounted = useRef(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const prompt1 = `Keywords: ${inputText}\\nWrite a harmless synopsis for an interesting ${inputLength} long ${inputTheme} film that includes all of the keywords.\\nSynopsis:\\n`\n  const prompt2 = `Keywords: ${inputText}\\nWrite a short excerpt from an interesting ${inputLength} long ${inputTheme} film with a plot that incorporates all of the keywords. Present the excerpt in proper script format.\\nExcerpt:\\n`\n\n  const getOpenAIResponse = () => {\n    setIsLoading(true);\n    axios.get('http://localhost:8000', {\n      params: {\n        model: \"text-davinci-002\",\n        prompt: `${isSynopsis ? prompt1 : prompt2}`,\n        max_tokens: 256,\n        sliderValue: sliderValue\n      }\n    })\n    .then((res) => {\n      {isSynopsis ? setResultText(res.data.replace(/\\n/g, '')) : setResultText(res.data)}\n      setIsLoading(false);\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  useEffect(() => {\n    if (isMounted.current) {\n      console.log(\"this is useEffect:\", isSynopsis);\n      getOpenAIResponse();\n    } else {\n      isMounted.current = true;\n    }\n  }, [isSynopsis])\n\n  const setMode = (e) => {\n    if (e.target.value === 'synopsis') {\n      setIsSynopsis(true);\n      if (isSynopsis) getOpenAIResponse();\n    } else {\n      setIsSynopsis(false);\n      if (!isSynopsis) getOpenAIResponse();\n    }\n  }\n\n  return (\n    <Container className='container' textAlign='center'>\n      <div className=\"app-header\">\n        <h2 className=\"header\">Movie Plot Generator</h2>\n      </div>\n      <div className='app-body'>\n            <Form>\n              <h3>List any number of keywords you want in your film synopsis or script excerpt. Ex: man, woman, dog, McDonald's</h3>\n                <Form.Field control={TextArea} placeholder=\"Enter keywords for your synopsis...\" onChange={(e) => setInputText(e.target.value)}/>\n\n                <h3>Choose length of film.</h3>\n                <select onChange={(e) => setInputLength(e.target.value)}>\n                    <option>10 minutes</option>\n                    <option>30 minutes</option>\n                    <option>1 hour</option>\n                    <option>2 hours</option>\n                </select>\n\n                <h3>Choose genre of film.</h3>\n                <select onChange={(e) => setInputTheme(e.target.value)}>\n                    <option>Drama</option>\n                    <option>Comedy</option>\n                    <option>Action</option>\n                    <option>Science fiction</option>\n                    <option>Adventure</option>\n                </select>\n\n                <h3>Choose whether you want your story to be more predictable or more random.</h3>\n                <div className=\"slidecontainer\">\n                  <span>More Predictable</span>\n                  <input className=\"slider\" onChange={(e) => setSliderValue(e.currentTarget.value)} type=\"range\" min=\"0\" max=\"1.0\" step='0.01' value={sliderValue}/>\n                  <span>More Random</span>\n                </div>\n\n                <Button size='large' value='synopsis' onClick={setMode}>\n                  Make a synopsis!\n                </Button>\n\n                <Button size='large' value='excerpt' onClick={setMode}>\n                  Make an excerpt!\n                </Button>\n\n                <h2>{isSynopsis ? 'Synopsis:' : 'Excerpt:'}</h2>\n\n                {isLoading ? (\n                  <Loader active inline='centered'>Loading</Loader>\n                ) : (\n                  <textarea readOnly='readonly' value={resultText} rows='25'/>\n                )}\n            </Form>\n        </div>\n        <footer>\n        Responses are generated by OpenAI's GPT-3!\n        </footer>\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}